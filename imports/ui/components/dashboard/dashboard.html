<div class="dashboard">
	<div class="container">
		<h1>Dashboard</h1>
		<hr>


		<table class="add-tool">
			<tr>
				<td class="edit-btn">
					<a ng-click="dashboard.editMode()">
						<img class="edit" src="/images/edit.svg" ng-hide="dashboard.edit"/>
						<p ng-show="dashboard.edit">search mode</p>
					</a>
				</td>	
				<td class="add-bar">
					<input type="submit" class="button-primary" ui-sref="submit" value="Add transaction" />
				</td>
			</tr>
		</table>



		
		<table class="search-tool">
			<tr>
				<td class="search-bar">
					<input type="search" ng-model="dashboard.searchText" placeholder="Search" />
				</td>
				<td class="search-clear">
					<a ng-click="dashboard.clearSearch()"><img class="edit" src="/images/clear.svg"></a>
				</td>	
			</tr>
		</table>

		<table class="stats-table" ng-show="dashboard.stats">
			<tr>
				<td><b>Life time</b></td>
				<td><b>This year</b></td>
				<td><b>Average</b></td>
			</tr>
			<tr>
				<td>{{dashboard.stats.lifeTime | currency }}</td>
				<td>{{dashboard.stats.yearYet | currency }}</td>
				<td>{{dashboard.stats.avg | currency }}</td>
			</tr>
		<table>
			<tr>
				<th><a ng-click="dashboard.sortChanged()">Date</a></th>
				<th>Amount</th>
				<th class="big">Category</th>
				<th class="big">Method</th>
				<th>Description</th>
				<!-- <th class="right">Edit</th> -->
			</tr>
			<tr class="expense-row" ng-show="dashboard.expenses.length" dir-paginate="expense in dashboard.expenses | itemsPerPage: dashboard.perPage" total-items="dashboard.expensesCount" ng-click="dashboard.rowclick(expense)">
				<!-- <td>{{expense.date | date }}</td> -->
				<td>{{expense.date | date: 'MMM/d'}}</td>
				<!-- <td>{{expense.amount | currency | limitTo: 8}}{{expense.amount.toString().length > 8 ? '...' : ''}}</td> -->
				<td>{{expense.amount | currency }}</td>
				<!-- <td>{{expense.amount > 999.99 ? 999.99 : expense.amount | currency }}{{expense.amount > 999.99 ? '+' : ''}}</td> -->
				<td class="big">{{expense.category}}</td>
				<td class="big">{{expense.payment}}</td>
				<td>{{expense.description | limitTo: 12}}{{expense.description.length > 12 ? '...' : ''}}</td>
				<!-- <td><a ui-sref="submit({transaction_id : expense._id})"><img class="edit" src="/images/edit.svg"></a></td> -->
			</tr>
		</table>
		<dir-pagination-controls on-page-change="dashboard.pageChanged(newPageNumber)"></dir-pagination-controls>
		<span class="empty" ng-hide="dashboard.expenses.length">
			<p><b>no transactions yet.</b> submit one</p>
			<a class="button" ui-sref="submit">here</a>
		</span>
	</div>
</div>